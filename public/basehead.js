var NightMode=(function(){var key='theme',on='night',off='day',nightModeClass='night-mode',containerSelector='body';var trackEvent=function(value){var map={day:'off',night:'on'};dataLayer.push({'event':'customEvent','eventCategory':'Night Mode','eventAction':'Night Mode Toggled','eventLabel':map[value]});};var _setCookie=function(value){Cookies.set(key,value,{expires:3650});};var toggleOnOff=function(){var currentValue=Cookies.get(key),newValue=currentValue===on?off:on;_setCookie(newValue);$(containerSelector).toggleClass(nightModeClass);return newValue;};var _activateSwitch=function(value){if(value){$('[data-night-mode-on]').addClass('active');$('[data-night-mode-off]').removeClass('active');}else{$('[data-night-mode-on]').removeClass('active');$('[data-night-mode-off]').addClass('active');}};var initSwitch=function(){$('[data-night-mode-on]').on('click',function(){$(containerSelector).addClass(nightModeClass);_activateSwitch(true);_setCookie(on);trackEvent(on);});$('[data-night-mode-off]').on('click',function(){$(containerSelector).removeClass(nightModeClass);_activateSwitch(false);_setCookie(off);trackEvent(off);});_activateSwitch(Cookies.get(key)===on);};var init=function(){if(getCookie(key)===on){var currentClass=document.body.className;if(currentClass.length>0){if(currentClass.indexOf(nightModeClass)===-1){document.body.className=currentClass+' '+nightModeClass;}}else{document.body.className=nightModeClass;}}};return{initSwitch:initSwitch,init:init,toggleOnOff:toggleOnOff,trackEvent:trackEvent};})();function ThemeSwitch(selector){$(selector).on('click',function(){var value=NightMode.toggleOnOff();NightMode.trackEvent(value);});}